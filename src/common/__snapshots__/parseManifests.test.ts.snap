// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`parseManifests() parse basic.json 1`] = `
Array [
  Object {
    "data": Object {
      "label": "üì¶ app",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 1,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "app",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "app",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "configMapRef": Object {
                        "name": "app-configmap",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/sample-next-app/app:2.1.5",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "app",
                  "ports": Array [
                    Object {
                      "containerPort": 3030,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "50m",
                      "memory": "128Mi",
                    },
                    "requests": Object {
                      "cpu": "1m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service app",
      "manifest": Object {
        "apiVersion": "v1",
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "clusterIP": "1.2.3.4",
          "ports": Array [
            Object {
              "name": "http",
              "port": 80,
              "targetPort": 3030,
            },
          ],
          "selector": Object {
            "app": "app",
          },
        },
      },
    },
    "id": "Service-sample-next-app-85-preprod-dev2-app",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üóí app-configmap",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ACCOUNT_MAIL_SENDER": "contact@org.com",
          "FRONTEND_PORT": "3030",
          "GRAPHQL_ENDPOINT": "http://hasura/v1/graphql",
          "NODE_ENV": "production",
          "PRODUCTION": "false",
        },
        "kind": "ConfigMap",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-configmap",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
      },
    },
    "id": "ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üåç preprod-sample-next-app.dev2.org.com",
      "manifest": Object {
        "apiVersion": "extensions/v1beta1",
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "kubernetes.io/ingress.class": "nginx",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "preprod-sample-next-app.dev2.org.com",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "app",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "Imple  mentationSpecific",
                  },
                ],
              },
            },
          ],
        },
      },
    },
    "id": "Ingress-sample-next-app-85-preprod-dev2-app",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üå• Internet",
    },
    "id": "Internet",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "id": "edge-Internet-Ingress-sample-next-app-85-preprod-dev2-app",
    "label": "",
    "source": "Internet",
    "target": "Ingress-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-app-Service-sample-next-app-85-preprod-dev2-app",
    "label": "'\\"/\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-app",
    "target": "Service-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "animated": true,
    "id": "edge-Service-sample-next-app-85-preprod-dev2-app-Deployment-sample-next-app-85-preprod-dev2-app-0",
    "source": "Service-sample-next-app-85-preprod-dev2-app",
    "target": "Deployment-sample-next-app-85-preprod-dev2-app-0",
  },
  Object {
    "data": Object {
      "label": "ConfigMap app-configmap",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-0-ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "target": "ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "type": "smoothstep",
  },
]
`;

exports[`parseManifests() parse ingress-hosts.json 1`] = `
Array [
  Object {
    "data": Object {
      "label": "üö¶ Service app",
      "manifest": Object {
        "apiVersion": "v1",
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "clusterIP": "1.2.3.4",
          "ports": Array [
            Object {
              "name": "http",
              "port": 80,
              "targetPort": 3030,
            },
          ],
          "selector": Object {
            "app": "app",
          },
        },
      },
    },
    "id": "Service-sample-next-app-85-preprod-dev2-app",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service app-admin",
      "manifest": Object {
        "apiVersion": "v1",
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "app": "app-admin",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-admin",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "clusterIP": "1.2.3.4",
          "ports": Array [
            Object {
              "name": "http",
              "port": 80,
              "targetPort": 3030,
            },
          ],
          "selector": Object {
            "app": "app-admin",
          },
        },
      },
    },
    "id": "Service-sample-next-app-85-preprod-dev2-app-admin",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üåç preprod.com<br>üåç preprod2.com",
      "manifest": Object {
        "apiVersion": "extensions/v1beta1",
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "kubernetes.io/ingress.class": "nginx",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "preprod.com",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "app",
                      "servicePort": 80,
                    },
                    "path": "/",
                  },
                ],
              },
            },
            Object {
              "host": "preprod2.com",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "app",
                      "servicePort": 80,
                    },
                    "path": "/",
                  },
                  Object {
                    "backend": Object {
                      "serviceName": "app-admin",
                      "servicePort": 80,
                    },
                    "path": "/admin",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "preprod.com",
                "preprod2.com",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-sample-next-app-85-preprod-dev2-app",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üå• Internet",
    },
    "id": "Internet",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "id": "edge-Internet-Ingress-sample-next-app-85-preprod-dev2-app",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-app-Service-sample-next-app-85-preprod-dev2-app",
    "label": "'\\"/\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-app",
    "target": "Service-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-app-Service-sample-next-app-85-preprod-dev2-app",
    "label": "'\\"/\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-app",
    "target": "Service-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-app-Service-sample-next-app-85-preprod-dev2-app-admin",
    "label": "'\\"/admin\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-app",
    "target": "Service-sample-next-app-85-preprod-dev2-app-admin",
  },
]
`;

exports[`parseManifests() parse sample-next-app.json 1`] = `
Array [
  Object {
    "data": Object {
      "label": "üì¶ app",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 3,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "app",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "app",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "app-sealed-secret",
                      },
                    },
                    Object {
                      "configMapRef": Object {
                        "name": "app-configmap",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/sample-next-app/app:2.1.5",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "app",
                  "ports": Array [
                    Object {
                      "containerPort": 3030,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "50m",
                      "memory": "128Mi",
                    },
                    "requests": Object {
                      "cpu": "1m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ app",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 3,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "app",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "app",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "app-sealed-secret",
                      },
                    },
                    Object {
                      "configMapRef": Object {
                        "name": "app-configmap",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/sample-next-app/app:2.1.5",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "app",
                  "ports": Array [
                    Object {
                      "containerPort": 3030,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "50m",
                      "memory": "128Mi",
                    },
                    "requests": Object {
                      "cpu": "1m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-app-1",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ app",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 3,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "app",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "app",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "app-sealed-secret",
                      },
                    },
                    Object {
                      "configMapRef": Object {
                        "name": "app-configmap",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/sample-next-app/app:2.1.5",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "app",
                  "ports": Array [
                    Object {
                      "containerPort": 3030,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "50m",
                      "memory": "128Mi",
                    },
                    "requests": Object {
                      "cpu": "1m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-app-2",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ hasura",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "hasura",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "hasura",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 1,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "hasura",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "hasura",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user",
                      },
                    },
                    Object {
                      "secretRef": Object {
                        "name": "hasura-sealed-secret",
                      },
                    },
                    Object {
                      "configMapRef": Object {
                        "name": "hasura-configmap",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/sample-next-app/hasura:2.1.5",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "hasura",
                  "ports": Array [
                    Object {
                      "containerPort": 80,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "500m",
                      "memory": "512Mi",
                    },
                    "requests": Object {
                      "cpu": "100m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "initContainers": Array [
                Object {
                  "env": Array [
                    Object {
                      "name": "WAIT_FOR_RETRIES",
                      "value": "24",
                    },
                  ],
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/docker/wait-for-postgres:2.0.0",
                  "imagePullPolicy": "Always",
                  "name": "wait-for-postgres",
                  "resources": Object {
                    "limits": Object {
                      "cpu": "20m",
                      "memory": "32Mi",
                    },
                    "requests": Object {
                      "cpu": "5m",
                      "memory": "16Mi",
                    },
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-hasura-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ pgweb",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "pgweb",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "component": "pgweb",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "pgweb",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 1,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "pgweb",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "pgweb",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "component": "pgweb",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user",
                      },
                    },
                  ],
                  "image": "sosedoff/pgweb:0.11.7",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "pgweb",
                  "ports": Array [
                    Object {
                      "containerPort": 8081,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "500m",
                      "memory": "256Mi",
                    },
                    "requests": Object {
                      "cpu": "100m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "initContainers": Array [
                Object {
                  "env": Array [
                    Object {
                      "name": "WAIT_FOR_RETRIES",
                      "value": "24",
                    },
                  ],
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/docker/wait-for-postgres:2.0.0",
                  "imagePullPolicy": "Always",
                  "name": "wait-for-postgres",
                  "resources": Object {
                    "limits": Object {
                      "cpu": "20m",
                      "memory": "32Mi",
                    },
                    "requests": Object {
                      "cpu": "5m",
                      "memory": "16Mi",
                    },
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-pgweb-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service app",
      "manifest": Object {
        "apiVersion": "v1",
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "clusterIP": "1.2.3.4",
          "ports": Array [
            Object {
              "name": "http",
              "port": 80,
              "targetPort": 3030,
            },
          ],
          "selector": Object {
            "app": "app",
          },
        },
      },
    },
    "id": "Service-sample-next-app-85-preprod-dev2-app",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service hasura",
      "manifest": Object {
        "apiVersion": "v1",
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "app": "hasura",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "hasura",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "clusterIP": "1.2.3.4",
          "ports": Array [
            Object {
              "name": "http",
              "port": 80,
            },
          ],
          "selector": Object {
            "app": "hasura",
          },
        },
      },
    },
    "id": "Service-sample-next-app-85-preprod-dev2-hasura",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service pgweb",
      "manifest": Object {
        "apiVersion": "v1",
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "app": "pgweb",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "pgweb",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "clusterIP": "1.2.3.4",
          "ports": Array [
            Object {
              "name": "http",
              "port": 80,
              "targetPort": 8081,
            },
          ],
          "selector": Object {
            "app": "pgweb",
          },
        },
      },
    },
    "id": "Service-sample-next-app-85-preprod-dev2-pgweb",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üóí app-configmap",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ACCOUNT_MAIL_SENDER": "contact@org.com",
          "FRONTEND_PORT": "3030",
          "GRAPHQL_ENDPOINT": "http://hasura/v1/graphql",
          "NODE_ENV": "production",
          "PRODUCTION": "false",
        },
        "kind": "ConfigMap",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-configmap",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
      },
    },
    "id": "ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üóí hasura-configmap",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ACCOUNT_EMAIL_WEBHOOK_URL": "http://app:80/api/webhooks/account",
          "HASURA_GRAPHQL_ENABLED_LOG_TYPES": "startup, http-log, webhook-log, websocket-log, query-log",
          "HASURA_GRAPHQL_ENABLE_CONSOLE": "true",
          "HASURA_GRAPHQL_LOG_LEVEL": "debug",
          "HASURA_GRAPHQL_NO_OF_RETRIES": "5",
          "HASURA_GRAPHQL_SERVER_PORT": "80",
          "HASURA_GRAPHQL_UNAUTHORIZED_ROLE": "anonymous",
        },
        "kind": "ConfigMap",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "hasura-configmap",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
      },
    },
    "id": "ConfigMap-sample-next-app-85-preprod-dev2-hasura-configmap",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì app-sealed-secret",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ACCOUNT_EMAIL_SECRET": "xxx",
          "HASURA_GRAPHQL_ADMIN_SECRET": "xxx",
          "HASURA_GRAPHQL_JWT_SECRET": "xxx",
          "SMTP_EMAIL_PASSWORD": "xxx",
          "SMTP_EMAIL_USER": "xxx",
          "SMTP_URL": "xxx",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-sealed-secret",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "type": "Opaque",
      },
    },
    "id": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì azure-pg-user",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "DATABASE_URL": "xxx",
          "HASURA_GRAPHQL_DATABASE_URL": "xxx",
          "PGDATABASE": "xxx",
          "PGHOST": "xxx",
          "PGPASSWORD": "xxx",
          "PGSSLMODE": "xxx",
          "PGUSER": "xxx",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "azure-pg-user",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "type": "Opaque",
      },
    },
    "id": "Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì hasura-sealed-secret",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ACCOUNT_EMAIL_SECRET": "xxx",
          "HASURA_GRAPHQL_ADMIN_SECRET": "xxx",
          "HASURA_GRAPHQL_JWT_SECRET": "xxx",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "hasura-sealed-secret",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "type": "Opaque",
      },
    },
    "id": "Secret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì wildcard-crt",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ca.crt": "",
          "tls.crt": "xxx",
          "tls.key": "xxx",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "certmanager.k8s.io/certificate-name": "wildcard-crt",
            "certmanager.k8s.io/common-name": "*.dev2.org.com",
            "certmanager.k8s.io/issuer-kind": "ClusterIssuer",
            "certmanager.k8s.io/issuer-name": "letsencrypt-wildcard",
          },
          "labels": Object {
            "certmanager.k8s.io/certificate-name": "wildcard-crt",
          },
          "name": "wildcard-crt",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "type": "kubernetes.io/tls",
      },
    },
    "id": "Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üåç preprod-sample-next-app.dev2.org.com",
      "manifest": Object {
        "apiVersion": "extensions/v1beta1",
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "kubernetes.io/ingress.class": "nginx",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "preprod-sample-next-app.dev2.org.com",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "app",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "preprod-sample-next-app.dev2.org.com",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-sample-next-app-85-preprod-dev2-app",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üåç hasura-preprod-sample-next-app.dev2.org.com",
      "manifest": Object {
        "apiVersion": "extensions/v1beta1",
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "kubernetes.io/ingress.class": "nginx",
          },
          "labels": Object {
            "app": "hasura",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "hasura",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "hasura-preprod-sample-next-app.dev2.org.com",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "hasura",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "hasura-preprod-sample-next-app.dev2.org.com",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-sample-next-app-85-preprod-dev2-hasura",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üåç pgweb-preprod-sample-next-app.dev2.org.com",
      "manifest": Object {
        "apiVersion": "extensions/v1beta1",
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "kubernetes.io/ingress.class": "nginx",
          },
          "labels": Object {
            "app": "pgweb",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "pgweb",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "pgweb-preprod-sample-next-app.dev2.org.com",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "pgweb",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "pgweb-preprod-sample-next-app.dev2.org.com",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-sample-next-app-85-preprod-dev2-pgweb",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üîê app-sealed-secret",
      "manifest": Object {
        "apiVersion": "bitnami.com/v1alpha1",
        "kind": "SealedSecret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-sealed-secret",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "encryptedData": Object {
            "ACCOUNT_EMAIL_SECRET": "xxx",
            "HASURA_GRAPHQL_ADMIN_SECRET": "xxx",
            "HASURA_GRAPHQL_JWT_SECRET": "xxx",
            "SMTP_EMAIL_PASSWORD": "xxx",
            "SMTP_EMAIL_USER": "xxx",
            "SMTP_URL": "xxx",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
                "sealedsecrets.bitnami.com/cluster-wide": "true",
              },
              "creationTimestamp": null,
              "labels": Object {
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
              "name": "app-sealed-secret",
            },
          },
        },
      },
    },
    "id": "SealedSecret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "data": Object {
      "label": "üîê azure-pg-user",
      "manifest": Object {
        "apiVersion": "bitnami.com/v1alpha1",
        "kind": "SealedSecret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "azure-pg-user",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "encryptedData": Object {
            "DATABASE_URL": "xxx",
            "HASURA_GRAPHQL_DATABASE_URL": "xxx",
            "PGDATABASE": "xxx",
            "PGHOST": "xxx",
            "PGPASSWORD": "xxx",
            "PGSSLMODE": "xxx",
            "PGUSER": "xxx",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
                "sealedsecrets.bitnami.com/cluster-wide": "true",
              },
              "creationTimestamp": null,
              "labels": Object {
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
              "name": "azure-pg-user",
            },
            "type": "Opaque",
          },
        },
      },
    },
    "id": "SealedSecret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "data": Object {
      "label": "üîê hasura-sealed-secret",
      "manifest": Object {
        "apiVersion": "bitnami.com/v1alpha1",
        "kind": "SealedSecret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "hasura-sealed-secret",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "encryptedData": Object {
            "ACCOUNT_EMAIL_SECRET": "xxx",
            "HASURA_GRAPHQL_ADMIN_SECRET": "xxx",
            "HASURA_GRAPHQL_JWT_SECRET": "xxx",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
                "sealedsecrets.bitnami.com/cluster-wide": "true",
              },
              "creationTimestamp": null,
              "labels": Object {
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
              "name": "hasura-sealed-secret",
            },
            "type": "Opaque",
          },
        },
      },
    },
    "id": "SealedSecret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "data": Object {
      "label": "üå• Internet",
    },
    "id": "Internet",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "id": "edge-Internet-Ingress-sample-next-app-85-preprod-dev2-app",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-app-Service-sample-next-app-85-preprod-dev2-app",
    "label": "'\\"/\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-app",
    "target": "Service-sample-next-app-85-preprod-dev2-app",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-app-Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
    "source": "Ingress-sample-next-app-85-preprod-dev2-app",
    "target": "Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
  },
  Object {
    "id": "edge-Internet-Ingress-sample-next-app-85-preprod-dev2-hasura",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-sample-next-app-85-preprod-dev2-hasura",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-hasura-Service-sample-next-app-85-preprod-dev2-hasura",
    "label": "'\\"/\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-hasura",
    "target": "Service-sample-next-app-85-preprod-dev2-hasura",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-hasura-Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
    "source": "Ingress-sample-next-app-85-preprod-dev2-hasura",
    "target": "Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
  },
  Object {
    "id": "edge-Internet-Ingress-sample-next-app-85-preprod-dev2-pgweb",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-sample-next-app-85-preprod-dev2-pgweb",
  },
  Object {
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-pgweb-Service-sample-next-app-85-preprod-dev2-pgweb",
    "label": "'\\"/\\"'",
    "source": "Ingress-sample-next-app-85-preprod-dev2-pgweb",
    "target": "Service-sample-next-app-85-preprod-dev2-pgweb",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-sample-next-app-85-preprod-dev2-pgweb-Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
    "source": "Ingress-sample-next-app-85-preprod-dev2-pgweb",
    "target": "Secret-sample-next-app-85-preprod-dev2-wildcard-crt",
  },
  Object {
    "animated": true,
    "id": "edge-Service-sample-next-app-85-preprod-dev2-app-Deployment-sample-next-app-85-preprod-dev2-app-0",
    "source": "Service-sample-next-app-85-preprod-dev2-app",
    "target": "Deployment-sample-next-app-85-preprod-dev2-app-0",
  },
  Object {
    "animated": true,
    "id": "edge-Service-sample-next-app-85-preprod-dev2-app-Deployment-sample-next-app-85-preprod-dev2-app-1",
    "source": "Service-sample-next-app-85-preprod-dev2-app",
    "target": "Deployment-sample-next-app-85-preprod-dev2-app-1",
  },
  Object {
    "animated": true,
    "id": "edge-Service-sample-next-app-85-preprod-dev2-app-Deployment-sample-next-app-85-preprod-dev2-app-2",
    "source": "Service-sample-next-app-85-preprod-dev2-app",
    "target": "Deployment-sample-next-app-85-preprod-dev2-app-2",
  },
  Object {
    "animated": true,
    "id": "edge-Service-sample-next-app-85-preprod-dev2-hasura-Deployment-sample-next-app-85-preprod-dev2-hasura-0",
    "source": "Service-sample-next-app-85-preprod-dev2-hasura",
    "target": "Deployment-sample-next-app-85-preprod-dev2-hasura-0",
  },
  Object {
    "animated": true,
    "id": "edge-Service-sample-next-app-85-preprod-dev2-pgweb-Deployment-sample-next-app-85-preprod-dev2-pgweb-0",
    "source": "Service-sample-next-app-85-preprod-dev2-pgweb",
    "target": "Deployment-sample-next-app-85-preprod-dev2-pgweb-0",
  },
  Object {
    "id": "edge-SealedSecret-sample-next-app-85-preprod-dev2-app-sealed-secret-Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "source": "SealedSecret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "target": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
  },
  Object {
    "id": "edge-SealedSecret-sample-next-app-85-preprod-dev2-azure-pg-user-Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "source": "SealedSecret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "target": "Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
  },
  Object {
    "id": "edge-SealedSecret-sample-next-app-85-preprod-dev2-hasura-sealed-secret-Secret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
    "source": "SealedSecret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
    "target": "Secret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
  },
  Object {
    "data": Object {
      "label": "Secret app-sealed-secret",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-0-Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "target": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "ConfigMap app-configmap",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-0-ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "target": "ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret app-sealed-secret",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-1-Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-1",
    "target": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "ConfigMap app-configmap",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-1-ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-1",
    "target": "ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret app-sealed-secret",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-2-Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-2",
    "target": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "ConfigMap app-configmap",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-2-ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-2",
    "target": "ConfigMap-sample-next-app-85-preprod-dev2-app-configmap",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret azure-pg-user",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-hasura-0-Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "source": "Deployment-sample-next-app-85-preprod-dev2-hasura-0",
    "target": "Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret hasura-sealed-secret",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-hasura-0-Secret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
    "source": "Deployment-sample-next-app-85-preprod-dev2-hasura-0",
    "target": "Secret-sample-next-app-85-preprod-dev2-hasura-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "ConfigMap hasura-configmap",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-hasura-0-ConfigMap-sample-next-app-85-preprod-dev2-hasura-configmap",
    "source": "Deployment-sample-next-app-85-preprod-dev2-hasura-0",
    "target": "ConfigMap-sample-next-app-85-preprod-dev2-hasura-configmap",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret azure-pg-user",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-pgweb-0-Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "source": "Deployment-sample-next-app-85-preprod-dev2-pgweb-0",
    "target": "Secret-sample-next-app-85-preprod-dev2-azure-pg-user",
    "type": "smoothstep",
  },
]
`;

exports[`parseManifests() parse sealed-secret.json 1`] = `
Array [
  Object {
    "data": Object {
      "label": "üì¶ app",
      "manifest": Object {
        "apiVersion": "apps/v1",
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "deployment.kubernetes.io/revision": "1",
          },
          "labels": Object {
            "app": "app",
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "progressDeadlineSeconds": 600,
          "replicas": 1,
          "revisionHistoryLimit": 10,
          "selector": Object {
            "matchLabels": Object {
              "app": "app",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
              },
              "creationTimestamp": null,
              "labels": Object {
                "app": "app",
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "app-sealed-secret",
                      },
                    },
                  ],
                  "image": "my.registry.com/org/sample-next-app/app:2.1.5",
                  "imagePullPolicy": "IfNotPresent",
                  "livenessProbe": Object {
                    "failureThreshold": 6,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "initialDelaySeconds": 30,
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 5,
                  },
                  "name": "app",
                  "ports": Array [
                    Object {
                      "containerPort": 3030,
                      "name": "http",
                      "protocol": "TCP",
                    },
                  ],
                  "readinessProbe": Object {
                    "failureThreshold": 15,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "resources": Object {
                    "limits": Object {
                      "cpu": "50m",
                      "memory": "128Mi",
                    },
                    "requests": Object {
                      "cpu": "1m",
                      "memory": "64Mi",
                    },
                  },
                  "startupProbe": Object {
                    "failureThreshold": 12,
                    "httpGet": Object {
                      "path": "/healthz",
                      "port": "http",
                      "scheme": "HTTP",
                    },
                    "periodSeconds": 5,
                    "successThreshold": 1,
                    "timeoutSeconds": 1,
                  },
                  "terminationMessagePath": "/dev/termination-log",
                  "terminationMessagePolicy": "File",
                },
              ],
              "dnsPolicy": "ClusterFirst",
              "restartPolicy": "Always",
              "schedulerName": "default-scheduler",
              "terminationGracePeriodSeconds": 30,
            },
          },
        },
      },
    },
    "id": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üîì app-sealed-secret",
      "manifest": Object {
        "apiVersion": "v1",
        "data": Object {
          "ACCOUNT_EMAIL_SECRET": "xxx",
          "HASURA_GRAPHQL_ADMIN_SECRET": "xxx",
          "HASURA_GRAPHQL_JWT_SECRET": "xxx",
          "SMTP_EMAIL_PASSWORD": "xxx",
          "SMTP_EMAIL_USER": "xxx",
          "SMTP_URL": "xxx",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-sealed-secret",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "type": "Opaque",
      },
    },
    "id": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîê app-sealed-secret",
      "manifest": Object {
        "apiVersion": "bitnami.com/v1alpha1",
        "kind": "SealedSecret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-sample-next-app",
            "app.gitlab.com/env": "preprod-dev2",
            "app.gitlab.com/env.name": "preprod-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "v2-1-5-sample-next-app",
            "cert": "wildcard",
            "owner": "sample-next-app",
            "team": "sample-next-app",
          },
          "name": "app-sealed-secret",
          "namespace": "sample-next-app-85-preprod-dev2",
        },
        "spec": Object {
          "encryptedData": Object {
            "ACCOUNT_EMAIL_SECRET": "xxx",
            "HASURA_GRAPHQL_ADMIN_SECRET": "xxx",
            "HASURA_GRAPHQL_JWT_SECRET": "xxx",
            "SMTP_EMAIL_PASSWORD": "xxx",
            "SMTP_EMAIL_USER": "xxx",
            "SMTP_URL": "xxx",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-sample-next-app",
                "app.gitlab.com/env": "preprod-dev2",
                "app.gitlab.com/env.name": "preprod-dev2",
                "sealedsecrets.bitnami.com/cluster-wide": "true",
              },
              "creationTimestamp": null,
              "labels": Object {
                "application": "v2-1-5-sample-next-app",
                "cert": "wildcard",
                "owner": "sample-next-app",
                "team": "sample-next-app",
              },
              "name": "app-sealed-secret",
            },
          },
        },
      },
    },
    "id": "SealedSecret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "id": "edge-SealedSecret-sample-next-app-85-preprod-dev2-app-sealed-secret-Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "source": "SealedSecret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "target": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
  },
  Object {
    "data": Object {
      "label": "Secret app-sealed-secret",
    },
    "id": "edge-Deployment-sample-next-app-85-preprod-dev2-app-0-Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "source": "Deployment-sample-next-app-85-preprod-dev2-app-0",
    "target": "Secret-sample-next-app-85-preprod-dev2-app-sealed-secret",
    "type": "smoothstep",
  },
]
`;

exports[`parseManifests() parse strapi-hasura-dev.json 1`] = `
Array [
  Object {
    "data": Object {
      "label": "üì¶ expo",
      "manifest": Object {
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "expo",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "component": "nginx",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.2492c41885f60a9e1e6c4828eba9b521",
            "owner": "app",
            "team": "app",
          },
          "name": "expo",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "replicas": 1,
          "selector": Object {
            "matchLabels": Object {
              "app": "expo",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-app-app",
                "app.gitlab.com/env": "k8s2-dev2",
                "app.gitlab.com/env.name": "k8s2-dev2",
              },
              "labels": Object {
                "app": "expo",
                "application": "k8s2-dev2-app",
                "cert": "wildcard",
                "component": "nginx",
                "owner": "app",
                "team": "app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "image": "harbor.demo.fr/app/app-expo:84c26083eff55c2b368971aefb7e294db9cafb1d",
                  "imagePullPolicy": "IfNotPresent",
                  "name": "expo",
                },
              ],
              "restartPolicy": "Always",
            },
          },
        },
      },
    },
    "id": "Deployment-app-224-k8s2-dev2-expo-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ hasura",
      "manifest": Object {
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "hasura",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.81c2ba669829b679920cd71de636d708",
            "owner": "app",
            "team": "app",
          },
          "name": "hasura",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "replicas": 1,
          "selector": Object {
            "matchLabels": Object {
              "app": "hasura",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-app-app",
                "app.gitlab.com/env": "k8s2-dev2",
                "app.gitlab.com/env.name": "k8s2-dev2",
              },
              "labels": Object {
                "app": "hasura",
                "application": "k8s2-dev2-app",
                "cert": "wildcard",
                "owner": "app",
                "team": "app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user-84c26083",
                      },
                    },
                    Object {
                      "secretRef": Object {
                        "name": "hasura-sealed-secret",
                      },
                    },
                    Object {
                      "configMapRef": Object {
                        "name": "hasura-configmap",
                      },
                    },
                  ],
                  "image": "harbor.demo.fr/app/app-hasura:84c26083eff55c2b368971aefb7e294db9cafb1d",
                  "imagePullPolicy": "IfNotPresent",
                  "name": "hasura",
                },
              ],
              "initContainers": Array [
                Object {
                  "env": Array [
                    Object {
                      "name": "WAIT_FOR_RETRIES",
                      "value": "24",
                    },
                  ],
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user-84c26083",
                      },
                    },
                  ],
                  "image": "registry.gitlab.factory.social.gouv.fr/org/docker/wait-for-postgres:4.6.0",
                  "imagePullPolicy": "Always",
                  "name": "wait-for-postgres",
                },
              ],
              "restartPolicy": "Always",
            },
          },
        },
      },
    },
    "id": "Deployment-app-224-k8s2-dev2-hasura-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ pgweb",
      "manifest": Object {
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "pgweb",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "component": "pgweb",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.cae47fe0c68a55ae2d74eda7fece78de",
            "owner": "app",
            "team": "app",
          },
          "name": "pgweb",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "replicas": 1,
          "selector": Object {
            "matchLabels": Object {
              "app": "pgweb",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-app-app",
                "app.gitlab.com/env": "k8s2-dev2",
                "app.gitlab.com/env.name": "k8s2-dev2",
              },
              "labels": Object {
                "app": "pgweb",
                "application": "k8s2-dev2-app",
                "cert": "wildcard",
                "component": "pgweb",
                "owner": "app",
                "team": "app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user-84c26083",
                      },
                    },
                  ],
                  "image": "sosedoff/pgweb:0.11.7",
                  "imagePullPolicy": "IfNotPresent",
                  "name": "pgweb",
                },
              ],
              "initContainers": Array [
                Object {
                  "env": Array [
                    Object {
                      "name": "WAIT_FOR_RETRIES",
                      "value": "24",
                    },
                  ],
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user-84c26083",
                      },
                    },
                  ],
                  "image": "registry.gitlab.factory.social.gouv.fr/org/docker/wait-for-postgres:4.6.0",
                  "imagePullPolicy": "Always",
                  "name": "wait-for-postgres",
                },
              ],
              "restartPolicy": "Always",
            },
          },
        },
      },
    },
    "id": "Deployment-app-224-k8s2-dev2-pgweb-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "azureFile": Object {
        "secretName": "strapi-sealed-secret",
        "shareName": "uploads",
      },
      "label": "üíæ uploads",
      "name": "uploads",
    },
    "id": "volume-app-224-k8s2-dev2-uploads",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üì¶ strapi",
      "manifest": Object {
        "kind": "Deployment",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "strapi",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.4ebf1a7a02c27807918c9ab8f7f95234",
            "owner": "app",
            "team": "app",
          },
          "name": "strapi",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "replicas": 1,
          "selector": Object {
            "matchLabels": Object {
              "app": "strapi",
            },
          },
          "strategy": Object {
            "rollingUpdate": Object {
              "maxSurge": "25%",
              "maxUnavailable": "25%",
            },
            "type": "RollingUpdate",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-app-app",
                "app.gitlab.com/env": "k8s2-dev2",
                "app.gitlab.com/env.name": "k8s2-dev2",
              },
              "labels": Object {
                "app": "strapi",
                "application": "k8s2-dev2-app",
                "cert": "wildcard",
                "owner": "app",
                "team": "app",
              },
            },
            "spec": Object {
              "containers": Array [
                Object {
                  "env": Array [
                    Object {
                      "name": "DATABASE_CLIENT",
                      "value": "postgres",
                    },
                    Object {
                      "name": "DATABASE_NAME",
                      "value": "$(PGDATABASE)",
                    },
                    Object {
                      "name": "DATABASE_HOST",
                      "value": "$(PGHOST)",
                    },
                    Object {
                      "name": "DATABASE_PORT",
                      "value": "$(PGPORT)",
                    },
                    Object {
                      "name": "DATABASE_USERNAME",
                      "value": "$(PGUSER)",
                    },
                    Object {
                      "name": "DATABASE_PASSWORD",
                      "value": "$(PGPASSWORD)",
                    },
                    Object {
                      "name": "DATABASE_SSL",
                      "value": "true",
                    },
                  ],
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user-84c26083",
                      },
                    },
                    Object {
                      "secretRef": Object {
                        "name": "strapi-sealed-secret",
                      },
                    },
                    Object {
                      "configMapRef": Object {
                        "name": "strapi-configmap",
                      },
                    },
                  ],
                  "image": "harbor.demo.fr/app/app-strapi:84c26083eff55c2b368971aefb7e294db9cafb1d",
                  "imagePullPolicy": "IfNotPresent",
                  "name": "strapi",
                  "volumeMounts": Array [
                    Object {
                      "mountPath": "/app/public/uploads",
                      "name": "uploads",
                    },
                  ],
                },
              ],
              "initContainers": Array [
                Object {
                  "env": Array [
                    Object {
                      "name": "WAIT_FOR_RETRIES",
                      "value": "24",
                    },
                  ],
                  "envFrom": Array [
                    Object {
                      "secretRef": Object {
                        "name": "azure-pg-user-84c26083",
                      },
                    },
                  ],
                  "image": "registry.gitlab.factory.social.gouv.fr/org/docker/wait-for-postgres:4.6.0",
                  "imagePullPolicy": "Always",
                  "name": "wait-for-postgres",
                },
              ],
              "restartPolicy": "Always",
              "volumes": Array [
                Object {
                  "azureFile": Object {
                    "secretName": "strapi-sealed-secret",
                    "shareName": "uploads",
                  },
                  "name": "uploads",
                },
              ],
            },
          },
        },
      },
    },
    "id": "Deployment-app-224-k8s2-dev2-strapi-0",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üåç k8s2-dev2-app.dev2.demo.fr",
      "manifest": Object {
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "expo",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.4eca66d321db7839dfba6baf16bc2412",
            "owner": "app",
            "team": "app",
          },
          "name": "expo",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "k8s2-dev2-app.dev2.demo.fr",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "expo",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "k8s2-dev2-app.dev2.demo.fr",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-app-224-k8s2-dev2-expo",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üåç hasura-k8s2-dev2-app.dev2.demo.fr",
      "manifest": Object {
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "hasura",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.0b9b24e732df458c55270d41cb36acd4",
            "owner": "app",
            "team": "app",
          },
          "name": "hasura",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "hasura-k8s2-dev2-app.dev2.demo.fr",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "hasura",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "hasura-k8s2-dev2-app.dev2.demo.fr",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-app-224-k8s2-dev2-hasura",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üåç pgweb-k8s2-dev2-app.dev2.demo.fr",
      "manifest": Object {
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "pgweb",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.b4de5ebd999f52e49a5865b4877a2f9c",
            "owner": "app",
            "team": "app",
          },
          "name": "pgweb",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "pgweb-k8s2-dev2-app.dev2.demo.fr",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "pgweb",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "pgweb-k8s2-dev2-app.dev2.demo.fr",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-app-224-k8s2-dev2-pgweb",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üåç strapi-k8s2-dev2-app.dev2.demo.fr",
      "manifest": Object {
        "kind": "Ingress",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "strapi",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.65ee71b4904b1e6599ba453f83f2a273",
            "owner": "app",
            "team": "app",
          },
          "name": "strapi",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "rules": Array [
            Object {
              "host": "strapi-k8s2-dev2-app.dev2.demo.fr",
              "http": Object {
                "paths": Array [
                  Object {
                    "backend": Object {
                      "serviceName": "strapi",
                      "servicePort": 80,
                    },
                    "path": "/",
                    "pathType": "ImplementationSpecific",
                  },
                ],
              },
            },
          ],
          "tls": Array [
            Object {
              "hosts": Array [
                "strapi-k8s2-dev2-app.dev2.demo.fr",
              ],
              "secretName": "wildcard-crt",
            },
          ],
        },
      },
    },
    "id": "Ingress-app-224-k8s2-dev2-strapi",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "ingress",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service expo",
      "manifest": Object {
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "expo",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.d4b452f9aee0a7e8d89efaae3e6cfe44",
            "owner": "app",
            "team": "app",
          },
          "name": "expo",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "selector": Object {
            "app": "expo",
          },
        },
      },
    },
    "id": "Service-app-224-k8s2-dev2-expo",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service hasura",
      "manifest": Object {
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "hasura",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.caf690300cfca4098921cc22883b80e6",
            "owner": "app",
            "team": "app",
          },
          "name": "hasura",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "selector": Object {
            "app": "hasura",
          },
        },
      },
    },
    "id": "Service-app-224-k8s2-dev2-hasura",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service pgweb",
      "manifest": Object {
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "pgweb",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.e563f704b486202aafa154d22aa53d3b",
            "owner": "app",
            "team": "app",
          },
          "name": "pgweb",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "selector": Object {
            "app": "pgweb",
          },
        },
      },
    },
    "id": "Service-app-224-k8s2-dev2-pgweb",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üö¶ Service strapi",
      "manifest": Object {
        "kind": "Service",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "app": "strapi",
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.34100404bc0b1ab3f507fc916e1231e7",
            "owner": "app",
            "team": "app",
          },
          "name": "strapi",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "selector": Object {
            "app": "strapi",
          },
        },
      },
    },
    "id": "Service-app-224-k8s2-dev2-strapi",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
  },
  Object {
    "data": Object {
      "label": "üîì azure-pg-admin-user",
      "manifest": Object {
        "data": Object {
          "ADMIN_PG_PASSWORD": "some-secret-value",
          "ADMIN_PG_PASSWORD_ENCODED": "some-secret-value",
          "ADMIN_PG_USER": "some-secret-value",
          "ADMIN_PG_USER_ENCODED": "some-secret-value",
          "DATABASE_URL": "some-secret-value",
          "PGHOST": "some-secret-value",
          "PGPASSWORD": "some-secret-value",
          "PGSSLMODE": "some-secret-value",
          "PGUSER": "some-secret-value",
          "PG_HOST": "some-secret-value",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {},
          "labels": Object {
            "cattle.io/creator": "norman",
            "kubed.appscode.com/origin.cluster": "dev2",
            "kubed.appscode.com/origin.name": "azure-pg-admin-user",
            "kubed.appscode.com/origin.namespace": "app-secret",
          },
          "name": "azure-pg-admin-user",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "Secret-app-224-k8s2-dev2-azure-pg-admin-user",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì azure-pg-user-84c26083",
      "manifest": Object {
        "data": Object {
          "DATABASE_URL": "some-secret-value",
          "DB_URI": "some-secret-value",
          "HASURA_GRAPHQL_DATABASE_URL": "some-secret-value",
          "PGDATABASE": "some-secret-value",
          "PGHOST": "some-secret-value",
          "PGPASSWORD": "some-secret-value",
          "PGRST_DB_URI": "some-secret-value",
          "PGSSLMODE": "some-secret-value",
          "PGUSER": "some-secret-value",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.05f0cd3cade6ae4673c9954d0e38e491",
            "owner": "app",
            "team": "app",
          },
          "name": "azure-pg-user-84c26083",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì default-token-htnw5",
      "manifest": Object {
        "data": Object {
          "ca.crt": "some-secret-value",
          "namespace": "some-secret-value",
          "token": "some-secret-value",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {},
          "name": "default-token-htnw5",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "Secret-app-224-k8s2-dev2-default-token-htnw5",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì hasura-sealed-secret",
      "manifest": Object {
        "data": Object {
          "HASURA_GRAPHQL_ADMIN_SECRET": "some-secret-value",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "owner": "app",
            "team": "app",
          },
          "name": "hasura-sealed-secret",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "Secret-app-224-k8s2-dev2-hasura-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì strapi-sealed-secret",
      "manifest": Object {
        "data": Object {
          "azurestorageaccountkey": "some-secret-value",
          "azurestorageaccountname": "some-secret-value",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "owner": "app",
            "team": "app",
          },
          "name": "strapi-sealed-secret",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "Secret-app-224-k8s2-dev2-strapi-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîì wildcard-crt",
      "manifest": Object {
        "data": Object {
          "ca.crt": "some-secret-value",
          "tls.crt": "some-secret-value",
          "tls.key": "some-secret-value",
        },
        "kind": "Secret",
        "metadata": Object {
          "annotations": Object {},
          "labels": Object {
            "certmanager.k8s.io/certificate-name": "wildcard-crt",
            "kubed.appscode.com/origin.cluster": "dev2",
            "kubed.appscode.com/origin.name": "wildcard-crt",
            "kubed.appscode.com/origin.namespace": "cert-manager",
          },
          "name": "wildcard-crt",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "Secret-app-224-k8s2-dev2-wildcard-crt",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üîê hasura-sealed-secret",
      "manifest": Object {
        "encryptedData": Object {
          "HASURA_GRAPHQL_ADMIN_SECRET": "some-sealed-secret-value",
        },
        "kind": "SealedSecret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.9271aadb62d73beaa57b3b4a239dbd51",
            "owner": "app",
            "team": "app",
          },
          "name": "hasura-sealed-secret",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "encryptedData": Object {
            "HASURA_GRAPHQL_ADMIN_SECRET": "some-sealed-secret-value",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-app-app",
                "app.gitlab.com/env": "k8s2-dev2",
                "app.gitlab.com/env.name": "k8s2-dev2",
                "sealedsecrets.bitnami.com/cluster-wide": "true",
              },
              "labels": Object {
                "application": "k8s2-dev2-app",
                "cert": "wildcard",
                "owner": "app",
                "team": "app",
              },
              "name": "hasura-sealed-secret",
            },
          },
        },
      },
    },
    "id": "SealedSecret-app-224-k8s2-dev2-hasura-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "data": Object {
      "label": "üîê strapi-sealed-secret",
      "manifest": Object {
        "encryptedData": Object {
          "azurestorageaccountkey": "some-sealed-secret-value",
          "azurestorageaccountname": "some-sealed-secret-value",
        },
        "kind": "SealedSecret",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
            "sealedsecrets.bitnami.com/cluster-wide": "true",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.809b0e808fd8714462e32065321cb78b",
            "owner": "app",
            "team": "app",
          },
          "name": "strapi-sealed-secret",
          "namespace": "app-224-k8s2-dev2",
        },
        "spec": Object {
          "encryptedData": Object {
            "azurestorageaccountkey": "some-sealed-secret-value",
            "azurestorageaccountname": "some-sealed-secret-value",
          },
          "template": Object {
            "metadata": Object {
              "annotations": Object {
                "app.gitlab.com/app": "org-app-app",
                "app.gitlab.com/env": "k8s2-dev2",
                "app.gitlab.com/env.name": "k8s2-dev2",
                "sealedsecrets.bitnami.com/cluster-wide": "true",
              },
              "labels": Object {
                "application": "k8s2-dev2-app",
                "cert": "wildcard",
                "owner": "app",
                "team": "app",
              },
              "name": "strapi-sealed-secret",
            },
          },
        },
      },
    },
    "id": "SealedSecret-app-224-k8s2-dev2-strapi-sealed-secret",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "data": Object {
      "label": "üóí hasura-configmap",
      "manifest": Object {
        "data": Object {
          "HASURA_GRAPHQL_DEV_MODE": "some-configmap-value",
          "HASURA_GRAPHQL_ENABLED_LOG_TYPES": "some-configmap-value",
          "HASURA_GRAPHQL_ENABLE_CONSOLE": "some-configmap-value",
          "HASURA_GRAPHQL_LOG_LEVEL": "some-configmap-value",
          "HASURA_GRAPHQL_NO_OF_RETRIES": "some-configmap-value",
          "HASURA_GRAPHQL_SERVER_PORT": "some-configmap-value",
        },
        "kind": "ConfigMap",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.b6911d8b8b85f83f1145dd5db34e5cf3",
            "owner": "app",
            "team": "app",
          },
          "name": "hasura-configmap",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "ConfigMap-app-224-k8s2-dev2-hasura-configmap",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üóí strapi-configmap",
      "manifest": Object {
        "data": Object {
          "NODE_ENV": "some-configmap-value",
          "STRAPI_LOG_LEVEL": "some-configmap-value",
        },
        "kind": "ConfigMap",
        "metadata": Object {
          "annotations": Object {
            "app.gitlab.com/app": "org-app-app",
            "app.gitlab.com/env": "k8s2-dev2",
            "app.gitlab.com/env.name": "k8s2-dev2",
          },
          "labels": Object {
            "application": "k8s2-dev2-app",
            "cert": "wildcard",
            "kapp.k14s.io/app": "1615241323170693357",
            "kapp.k14s.io/association": "v1.c719ece45d72de57b8bccde0bc4941d1",
            "owner": "app",
            "team": "app",
          },
          "name": "strapi-configmap",
          "namespace": "app-224-k8s2-dev2",
        },
      },
    },
    "id": "ConfigMap-app-224-k8s2-dev2-strapi-configmap",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "output",
  },
  Object {
    "data": Object {
      "label": "üå• Internet",
    },
    "id": "Internet",
    "position": Object {
      "x": 0,
      "y": 0,
    },
    "sourcePosition": "right",
    "targetPosition": "left",
    "type": "input",
  },
  Object {
    "id": "edge-Internet-Ingress-app-224-k8s2-dev2-expo",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-app-224-k8s2-dev2-expo",
  },
  Object {
    "id": "edge-Ingress-app-224-k8s2-dev2-expo-Service-app-224-k8s2-dev2-expo",
    "label": "'\\"/\\"'",
    "source": "Ingress-app-224-k8s2-dev2-expo",
    "target": "Service-app-224-k8s2-dev2-expo",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-app-224-k8s2-dev2-expo-Secret-app-224-k8s2-dev2-wildcard-crt",
    "source": "Ingress-app-224-k8s2-dev2-expo",
    "target": "Secret-app-224-k8s2-dev2-wildcard-crt",
  },
  Object {
    "id": "edge-Internet-Ingress-app-224-k8s2-dev2-hasura",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-app-224-k8s2-dev2-hasura",
  },
  Object {
    "id": "edge-Ingress-app-224-k8s2-dev2-hasura-Service-app-224-k8s2-dev2-hasura",
    "label": "'\\"/\\"'",
    "source": "Ingress-app-224-k8s2-dev2-hasura",
    "target": "Service-app-224-k8s2-dev2-hasura",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-app-224-k8s2-dev2-hasura-Secret-app-224-k8s2-dev2-wildcard-crt",
    "source": "Ingress-app-224-k8s2-dev2-hasura",
    "target": "Secret-app-224-k8s2-dev2-wildcard-crt",
  },
  Object {
    "id": "edge-Internet-Ingress-app-224-k8s2-dev2-pgweb",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-app-224-k8s2-dev2-pgweb",
  },
  Object {
    "id": "edge-Ingress-app-224-k8s2-dev2-pgweb-Service-app-224-k8s2-dev2-pgweb",
    "label": "'\\"/\\"'",
    "source": "Ingress-app-224-k8s2-dev2-pgweb",
    "target": "Service-app-224-k8s2-dev2-pgweb",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-app-224-k8s2-dev2-pgweb-Secret-app-224-k8s2-dev2-wildcard-crt",
    "source": "Ingress-app-224-k8s2-dev2-pgweb",
    "target": "Secret-app-224-k8s2-dev2-wildcard-crt",
  },
  Object {
    "id": "edge-Internet-Ingress-app-224-k8s2-dev2-strapi",
    "label": "TLS",
    "source": "Internet",
    "target": "Ingress-app-224-k8s2-dev2-strapi",
  },
  Object {
    "id": "edge-Ingress-app-224-k8s2-dev2-strapi-Service-app-224-k8s2-dev2-strapi",
    "label": "'\\"/\\"'",
    "source": "Ingress-app-224-k8s2-dev2-strapi",
    "target": "Service-app-224-k8s2-dev2-strapi",
  },
  Object {
    "defaultTargetLabel": "wildcard-crt",
    "id": "edge-Ingress-app-224-k8s2-dev2-strapi-Secret-app-224-k8s2-dev2-wildcard-crt",
    "source": "Ingress-app-224-k8s2-dev2-strapi",
    "target": "Secret-app-224-k8s2-dev2-wildcard-crt",
  },
  Object {
    "animated": true,
    "id": "edge-Service-app-224-k8s2-dev2-expo-Deployment-app-224-k8s2-dev2-expo-0",
    "source": "Service-app-224-k8s2-dev2-expo",
    "target": "Deployment-app-224-k8s2-dev2-expo-0",
  },
  Object {
    "animated": true,
    "id": "edge-Service-app-224-k8s2-dev2-hasura-Deployment-app-224-k8s2-dev2-hasura-0",
    "source": "Service-app-224-k8s2-dev2-hasura",
    "target": "Deployment-app-224-k8s2-dev2-hasura-0",
  },
  Object {
    "animated": true,
    "id": "edge-Service-app-224-k8s2-dev2-pgweb-Deployment-app-224-k8s2-dev2-pgweb-0",
    "source": "Service-app-224-k8s2-dev2-pgweb",
    "target": "Deployment-app-224-k8s2-dev2-pgweb-0",
  },
  Object {
    "animated": true,
    "id": "edge-Service-app-224-k8s2-dev2-strapi-Deployment-app-224-k8s2-dev2-strapi-0",
    "source": "Service-app-224-k8s2-dev2-strapi",
    "target": "Deployment-app-224-k8s2-dev2-strapi-0",
  },
  Object {
    "id": "edge-SealedSecret-app-224-k8s2-dev2-hasura-sealed-secret-Secret-app-224-k8s2-dev2-hasura-sealed-secret",
    "source": "SealedSecret-app-224-k8s2-dev2-hasura-sealed-secret",
    "target": "Secret-app-224-k8s2-dev2-hasura-sealed-secret",
  },
  Object {
    "id": "edge-SealedSecret-app-224-k8s2-dev2-strapi-sealed-secret-Secret-app-224-k8s2-dev2-strapi-sealed-secret",
    "source": "SealedSecret-app-224-k8s2-dev2-strapi-sealed-secret",
    "target": "Secret-app-224-k8s2-dev2-strapi-sealed-secret",
  },
  Object {
    "data": Object {
      "label": "Secret azure-pg-user-84c26083",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-hasura-0-Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "source": "Deployment-app-224-k8s2-dev2-hasura-0",
    "target": "Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret hasura-sealed-secret",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-hasura-0-Secret-app-224-k8s2-dev2-hasura-sealed-secret",
    "source": "Deployment-app-224-k8s2-dev2-hasura-0",
    "target": "Secret-app-224-k8s2-dev2-hasura-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "ConfigMap hasura-configmap",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-hasura-0-ConfigMap-app-224-k8s2-dev2-hasura-configmap",
    "source": "Deployment-app-224-k8s2-dev2-hasura-0",
    "target": "ConfigMap-app-224-k8s2-dev2-hasura-configmap",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret azure-pg-user-84c26083",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-pgweb-0-Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "source": "Deployment-app-224-k8s2-dev2-pgweb-0",
    "target": "Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "type": "smoothstep",
  },
  Object {
    "id": "edge-Deployment-app-224-k8s2-dev2-strapi-0-volume-app-224-k8s2-dev2-uploads",
    "source": "Deployment-app-224-k8s2-dev2-strapi-0",
    "target": "volume-app-224-k8s2-dev2-uploads",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "azureFile": Object {
        "secretName": "strapi-sealed-secret",
        "shareName": "uploads",
      },
      "label": "Secret strapi-sealed-secret",
      "name": "uploads",
    },
    "id": "edge-volume-app-224-k8s2-dev2-uploads-Secret-app-224-k8s2-dev2-strapi-sealed-secret",
    "source": "volume-app-224-k8s2-dev2-uploads",
    "target": "Secret-app-224-k8s2-dev2-strapi-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret azure-pg-user-84c26083",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-strapi-0-Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "source": "Deployment-app-224-k8s2-dev2-strapi-0",
    "target": "Secret-app-224-k8s2-dev2-azure-pg-user-84c26083",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "Secret strapi-sealed-secret",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-strapi-0-Secret-app-224-k8s2-dev2-strapi-sealed-secret",
    "source": "Deployment-app-224-k8s2-dev2-strapi-0",
    "target": "Secret-app-224-k8s2-dev2-strapi-sealed-secret",
    "type": "smoothstep",
  },
  Object {
    "data": Object {
      "label": "ConfigMap strapi-configmap",
    },
    "id": "edge-Deployment-app-224-k8s2-dev2-strapi-0-ConfigMap-app-224-k8s2-dev2-strapi-configmap",
    "source": "Deployment-app-224-k8s2-dev2-strapi-0",
    "target": "ConfigMap-app-224-k8s2-dev2-strapi-configmap",
    "type": "smoothstep",
  },
]
`;
